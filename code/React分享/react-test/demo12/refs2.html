<!DOCTYPE html>
<html>
<head>
    <script src="https://a.alipayobjects.com/??es5-shim/4.1.10/es5-shim.min.js,es5-shim/4.1.10/es5-sham.min.js,html5shiv/3.7.2/src/html5shiv.js"></script>
    <script src="../build/react.js"></script>
    <script src="../build/JSXTransformer.js"></script>

    <script src="../build/jquery-1.7.1.min.js"></script>
</head>
<body>
<script type="text/jsx">
    var style = {
        border: '1px solid #999',
        marginRight: '5px',
        padding: '5px'
    };
    
    var App = React.createClass({
        getInitialState: function () {
            return {
                userInput: ''
            };
        },
        handleChange: function (e) {
            this.setState({
                userInput: e.target.value
            });
        },
        clearAndFocusInput: function () {
            this.setState({
                userInput: '' // 清空
            }, function () {
                // 清空后获取焦点
                React.findDOMNode(this.refs.theInput).focus();
            });
        },
        render: function () {
            return (
                    <div>
                        <a onClick={this.clearAndFocusInput} style={style}>
                            重置
                        </a>
                        <input ref="theInput" value={this.state.userInput} onChange={this.handleChange}/>
                    </div>
            )
        }
    });

    React.render(<App />, document.body);
</script>
</body>
</html>

